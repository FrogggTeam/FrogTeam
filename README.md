# 🐸 **Frog**
> Coin Asset Management & Information Provision Website (코인 자산 관리 및 정보 검색 사이트 )

### 기간 : `2021-11-03 ~ 2021-11-22`

### 팀원 및 역할

[`윤석훈`](https://github.com/imysh578) : 코인 자산 관리 툴 구현, DB 구성, 코인 정보 Open API 적용 <br/>
[`박정호`](https://github.com/pjh94) : 로그인/회원가입 구현, 서버 배포, News Open API 적용<br/>
[`이관훈`](https://github.com/Flavordash) : 웹페이지 디자인, ETF Open API 적용<br/>
[`곽지현`]() : 게시판 구현, 게시판 DB 구성 <br/>



***


# 목차
[1. 개요](#개요)

[2. 목적](#목적)

[3. 사용 기술](#사용-기술)

[4. 주요 기능](#주요-기능)

[5. 상세 설명](#상세-설명)

[6. 발생한 이슈 & 해결 방법](#발생한-이슈--해결-방법)


***

## 개요📒

- 다양한 코인 거래소에 흩어져 있는 자산을 한 번에 관리할 수 있는 웹사이트를 목표로 프로젝트를 시작했습니다.

***

## 목적🎯

#### (1) 배경
- 다양한 거래소가 존재하며, 각 거래소마다 거래 가능한 코인이 다름
- 대부분의 거래소에서 24h 수익률만 제공하며, 매수 평균가에 따른 수익률을 제공하지 않음
- 코인 입출금에 따라 매수 평균가가 부정확함

#### (2) 주요 고객
- 여러 거래소에서 코인을 거래하며, 자산을 일괄적으로 관리하길 희망하는 고객

#### (3) 개발 목표
- 한 눈에 쉽게 자산을 관리할 수 있는 툴 개발
- 코인 거래에 있어서 필요한 다양한 정보를 제공
- 의견을 토론하고 공유할 수 있는 커뮤니티 제공
- 사용자에게 높은 접근성과 편의성 제공


***

## 사용 기술🛠
- 개발 Tool : `Visual Studio Code`
- 개발 언어 : `JavaScript` `HTML` `CSS`
- 웹 화면 구성 : `React` `MUI` `styled-components`
- DB 구성 : `MySQL` `sequelize`
- 서버 개발 : `NodeJs` `Express` `Axios`
- 서버 배포 : `EC2` `RDS`
- 협업 Tool : `GitHub` `Google Drive`

***

## 주요 기능⚙
- 회원가입/로그인
- 거래소의 내 자산 정보 불러오기
- 매수 평균가에 따른 수익률 표시
- 보유 자산 비율 차트 표시
- 자산목록 추가 및 수정 기능
- 뉴스 및 관련 ETF 검색 기능
- 사용자 커뮤니티

***

## 상세 설명🧾
### 페이지 미리보기
| 페이지 | 화면 | 설명 |
| --- | --- | --- |
| **메인페이지** | ![mainPage](https://user-images.githubusercontent.com/33863016/145715621-ddb482d8-19be-41b4-bfc8-786bfe68d467.gif) | NavBar에는 각 섹션마다 이동을 가능하게 하고 HeroSection 에는 스크롤 형식으로 각 섹션 이동후 각페이지로 이동하는 버튼을 만들었다. 스크롤을 내리면 맨위로 올리는 버튼도 구현하였다. |
| **로그인/회원가입** | ![SignIn](https://user-images.githubusercontent.com/33863016/145715760-d7dcdc13-1920-471e-a89a-65ba9622fb1f.gif) | 이메일과 비밀번호를 DB에 저장하며 간단한 회원가입과 로그인을 가능케 하였다.|
| **마이페이지** | ![myPage](https://user-images.githubusercontent.com/33863016/145716291-8b6b0cf7-07fd-44d3-8cfe-5480d659ee6c.gif) | 회원가입후 개인 회원이 자신이 거래한 거래소의 API 를 가져와 자신의 자산을 확인하고 자산관리를 할수있게끔 하였다.|
| **뉴스** | ![news](https://user-images.githubusercontent.com/33863016/145716296-20c416d4-fc84-4a4a-9bce-7df4f0b6d015.gif) | 뉴스 API로 트렌딩 되는 가상화폐관련된 뉴스만 모아 뉴스 섹션에 정보를 제공하고있다.|
| **차트** | ![chart](https://user-images.githubusercontent.com/33863016/145716399-77ad5c1f-1b0c-4d05-a80d-4e7228e1d9ef.gif) | 업비트와 바이낸스 API를 활용하여 가상화폐의 가격을 실시간으로 확인할수있게 하였다. |
| **ETF** | ![etf](https://user-images.githubusercontent.com/33863016/145716465-12cc6041-215f-45de-a618-60a261d48041.gif) | 안정적인 투자를 가능하게 해주는 ETF의 정보를 제공해주는 API를 활용하여 각 ETF 상품의 세부설명을 보여주는 ETF 검색사이트에 링크를 걸어 놓았다.|
| **게시판** | ![community](https://user-images.githubusercontent.com/33863016/145716523-f5aca436-0339-404b-acb5-22150c53873d.gif) | 회원들이 게시판에 정보를 올리는 게시판을 구현하였다.|
  

### DB 테이블 관계도
| EER diagram | 설명 |
| --- | --- |
| ![image](https://user-images.githubusercontent.com/33863016/145716576-80fe3c91-23ac-4c6f-8fea-78ecb2da5c0f.png) | `user`테이블을 중심으로 데이터를 구성했으며, Open API에서 매번 코인 리스트를 불러올 필요 없이 `coins`라는 테이블을 만들어 데이터를 보관했다. |



***

## 발생한 이슈 & 해결 방법🤬

### "운영체제 및 모듈 버전 문제"
- [상황]  
mac 운영체제환경에서는 윈도우운영체제의 팀원과 협업하기엔 힘든 부분이있었다.  

- [문제]  
nodejs 의 버전이 다른문제 webpack 의 다른 버전으로 github 에서 클론하여 받은 팀프로젝트에 node module 자체가 다운이 안되기도 하였다.  

- [해결]  
nodejs 를 안정화된 버전으로 새로 다운하였고, webpack을 새로 다운받기도 하였으나 작동이 되지않아 다른 컴퓨터를 사용하였다.  
  

### "State 관리의 어려움"  

- [상황]  
컴포넌트의 깊이가 깊어질 수록 state 관리에 있어서 어려움이 많이 발생하였고, `리덕스`로 전환하기로 하였다.
  
- [문제]  
이미 대부분의 컴포넌트가 구성된 상황이었으며, 리덕스로 전환하기 위해선 상당한 시간이 필요로 했다.
  
- [해결]  
남은 프로젝트 기간을 고려하여 `리덕스`를 사용하는 대신, 기존 방식에서 컴포넌트의 깊이를 최소화하고 `context`를 활용하는 방법으로 대체하였다.
  

### "Binance Open API 연결 오류"  

- [상황]  
cctx 모듈을 활용하여 바이낸스 내 자산 데이터를 요청하였다.
  
- [문제]  
어느 순간 갑자기 Timestamp 에러가 생기면서 데이터가 요청이 계속해서 실패하였다.  
```
ccxt.base.errors.ExchangeNotAvailable: binance GET https://api.binance.com/api/v3/account?timestamp=...&signature=.... 400 {"code":-1021,"msg":"Timestamp for this request was 1000ms ahead of the server's time."}
```
서버 코드를 하나하나 수정해도 같은 에러가 발생함.

- [해결]  
검색 해보니 바이낸스 서버의 시간과 우리 서버의 시간 차이가 1000ms 이상 발생한 에러로 확인되었다.  
서버 컴퓨터 내의 시간 설정에서 자동으로 시간 설정을 off 후 다시 on 했더니 다시 정상적으로 동작하였다.
![image](https://user-images.githubusercontent.com/33863016/145717333-0d344d75-bb54-4b80-b9d5-9f25fd9ff4e8.png)

  
### "환경변수 사용"
- [상황]  
1. 개발 환경에서 실제 배포 환경으로 넘어가는 상황이었다.

- [문제]  
1. 실제 배포 상황에서의 변수(ex. 도메인, 포트, 시퀄라이즈 config) 등을 선언하는데 어려움이 있었다.
2. 보안이 필요한 변수들은 예외처리를 해주어야 했다.

- [해결]  
1. 
2. 

```
코드
```


### "PASSPORT 라이브러리 사용의 어려움"
- [상황]  
1. PASSPORT 라이브러리를 사용하여 로그인 / 회원가입을 구현하였다.

- [문제]  
1. 데이터베이스와 세션에 넘겨주는 코드를 어느 부분에 작성해야 할지 몰랐다.

- [해결]  
1. 로그인 처리는 세션 값으로 진행하기로 결정하였다.

```
코드
```

### "세션 관리"
- [상황]  
1. 사용자 정보를 DB, 세션 등에서 불러오고 처리하는 비즈니스 로직을 작성하려 하였다.

- [문제]  
1. 클라이언트에서 보낸 로그인 요청에 대한 정보 검사를 DB 서버에 요청 해 진행 할 것인지, 세션에 담긴 값(Redis)으로 진행 할 것인지 고민하였다.

- [해결]  
1. 로그인 처리는 세션 값으로 진행하기로 결정하였다.

```
코드
```


### "AWS 배포"
- [상황]  
1. AWS에서 처음 배포를 한 것이기 때문에 사용법에 익숙치 않았다.
2. 리눅스 환경 구성을 설계하는데 어려움이 있었다.

- [문제]  
1. 윈도우 서버는 방화벽, 속도 등의 문제가 있었다.
2. 윈도우 os에서 우분투 환경을 접근하는데 어려움이 있었다.  

  
- [해결]  
1. 방화벽 해제, 인터넷 보안 설정 등을 통해 진행을 하였으나 원활한 배포에 어려움이 있다고 판단해 서버 환경을 우분투로 선회했다.  
2. 윈도우 os에서 OPEN SSH등의 부가 설치를 통해 진행하려 했으나 오류가 발생해 무료 클라이언트인 PUTTY를 통해 서버 배포를 진행했다.
- https://docs.aws.amazon.com/ko_kr/AWSEC2/latest/UserGuide/putty.html 를 참고하였다

```
코드
```

### "제목" 

- [상황]  


- [문제]  


- [해결]  
```
코드
```

  
### "제목"  

- [상황]  

- [문제]  


- [해결]  
```
코드
```

***
